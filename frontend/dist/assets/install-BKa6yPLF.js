import{_ as q,a5 as Rt,N as Q,U as rt,K as kt,a6 as Mt,h as Ft,a7 as Ht,a8 as Ut,a9 as $,aa as Bt,ab as Lt,ac as ot,ad as Zt,ae as Wt,j as ut,af as Et,ag as it,ah as J,ai as vt,aj as Xt,ak as Tt,al as qt,am as jt,A as lt,an as K,ao as wt,ap as X,aq as Jt,ar as ht,as as Nt,at as ft,g as $t,au as ct,k as mt,av as gt,aw as pt,ax as x,ay as yt,a1 as tt,Z as Kt,az as Qt,aA as Yt,w as Ct,aB as xt,aC as te,aD as ee,aE as ae,aF as bt,aG as re,aH as ie,aI as ne,aJ as oe}from"./index-DWTZmJt_.js";var le=function(l){q(e,l);function e(){var t=l!==null&&l.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t){return Rt(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var a=new Q,o=rt("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);a.add(o),o.setStyle(t.lineStyle);var r=this.getData().getVisual("symbol"),i=this.getData().getVisual("symbolRotate"),n=r==="none"?"circle":r,u=t.itemHeight*.8,s=rt(n,(t.itemWidth-u)/2,(t.itemHeight-u)/2,u,u,t.itemStyle.fill);a.add(s),s.setStyle(t.itemStyle);var f=t.iconRotate==="inherit"?i:t.iconRotate||0;return s.rotation=f*Math.PI/180,s.setOrigin([t.itemWidth/2,t.itemHeight/2]),n.indexOf("empty")>-1&&(s.style.stroke=s.style.fill,s.style.fill=kt.color.neutral00,s.style.lineWidth=2),a},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:6,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(Mt),st=function(l){q(e,l);function e(t,a,o,r){var i=l.call(this)||this;return i.updateData(t,a,o,r),i}return e.prototype._createSymbol=function(t,a,o,r,i,n){this.removeAll();var u=rt(t,-1,-1,2,2,null,n);u.attr({z2:Ft(i,100),culling:!0,scaleX:r[0]/2,scaleY:r[1]/2}),u.drift=se,this._symbolType=t,this.add(u)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){Ht(this.childAt(0))},e.prototype.downplay=function(){Ut(this.childAt(0))},e.prototype.setZ=function(t,a){var o=this.childAt(0);o.zlevel=t,o.z=a},e.prototype.setDraggable=function(t,a){var o=this.childAt(0);o.draggable=t,o.cursor=!a&&t?"move":o.cursor},e.prototype.updateData=function(t,a,o,r){this.silent=!1;var i=t.getItemVisual(a,"symbol")||"circle",n=t.hostModel,u=e.getSymbolSize(t,a),s=e.getSymbolZ2(t,a),f=i!==this._symbolType,v=r&&r.disableAnimation;if(f){var c=t.getItemVisual(a,"symbolKeepAspect");this._createSymbol(i,t,a,u,s,c)}else{var h=this.childAt(0);h.silent=!1;var m={scaleX:u[0]/2,scaleY:u[1]/2};v?h.attr(m):$(h,m,n,a),Bt(h)}if(this._updateCommon(t,a,u,o,r),f){var h=this.childAt(0);if(!v){var m={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:h.style.opacity}};h.scaleX=h.scaleY=0,h.style.opacity=0,Lt(h,m,n,a)}}v&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,a,o,r,i){var n=this.childAt(0),u=t.hostModel,s,f,v,c,h,m,g,d,p;if(r&&(s=r.emphasisItemStyle,f=r.blurItemStyle,v=r.selectItemStyle,c=r.focus,h=r.blurScope,g=r.labelStatesModels,d=r.hoverScale,p=r.cursorStyle,m=r.emphasisDisabled),!r||t.hasItemOption){var y=r&&r.itemModel?r.itemModel:t.getItemModel(a),b=y.getModel("emphasis");s=b.getModel("itemStyle").getItemStyle(),v=y.getModel(["select","itemStyle"]).getItemStyle(),f=y.getModel(["blur","itemStyle"]).getItemStyle(),c=b.get("focus"),h=b.get("blurScope"),m=b.get("disabled"),g=ot(y),d=b.getShallow("scale"),p=y.getShallow("cursor")}var I=t.getItemVisual(a,"symbolRotate");n.attr("rotation",(I||0)*Math.PI/180||0);var D=Zt(t.getItemVisual(a,"symbolOffset"),o);D&&(n.x=D[0],n.y=D[1]),p&&n.attr("cursor",p);var _=t.getItemVisual(a,"style"),S=_.fill;if(n instanceof Wt){var E=n.style;n.useStyle(ut({image:E.image,x:E.x,y:E.y,width:E.width,height:E.height},_))}else n.__isEmptyBrush?n.useStyle(ut({},_)):n.useStyle(_),n.style.decal=null,n.setColor(S,i&&i.symbolInnerColor),n.style.strokeNoScale=!0;var k=t.getItemVisual(a,"liftZ"),P=this._z2;k!=null?P==null&&(this._z2=n.z2,n.z2+=k):P!=null&&(n.z2=P,this._z2=null);var L=i&&i.useNameLabel;Et(n,g,{labelFetcher:u,labelDataIndex:a,defaultText:A,inheritColor:S,defaultOpacity:_.opacity});function A(C){return L?t.getName(C):Tt(t,C)}this._sizeX=o[0]/2,this._sizeY=o[1]/2;var T=n.ensureState("emphasis");T.style=s,n.ensureState("select").style=v,n.ensureState("blur").style=f;var z=d==null||d===!0?Math.max(1.1,3/this._sizeY):isFinite(d)&&d>0?+d:1;T.scaleX=this._sizeX*z,T.scaleY=this._sizeY*z,this.setSymbolScale(1),it(this,c,h,m)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,a,o){var r=this.childAt(0),i=J(this).dataIndex,n=o&&o.animation;if(this.silent=r.silent=!0,o&&o.fadeLabel){var u=r.getTextContent();u&&vt(u,{style:{opacity:0}},a,{dataIndex:i,removeOpt:n,cb:function(){r.removeTextContent()}})}else r.removeTextContent();vt(r,{style:{opacity:0},scaleX:0,scaleY:0},a,{dataIndex:i,cb:t,removeOpt:n})},e.getSymbolSize=function(t,a){return Xt(t.getItemVisual(a,"symbolSize"))},e.getSymbolZ2=function(t,a){return t.getItemVisual(a,"z2")},e}(Q);function se(l,e){this.parent.drift(l,e)}function et(l,e,t,a){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(a.isIgnore&&a.isIgnore(t))&&!(a.clipShape&&!a.clipShape.contain(e[0],e[1]))&&l.getItemVisual(t,"symbol")!=="none"}function dt(l){return l!=null&&!jt(l)&&(l={isIgnore:l}),l||{}}function St(l){var e=l.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:ot(e),cursorStyle:e.get("cursor")}}var ue=function(){function l(e){this.group=new Q,this._SymbolCtor=e||st}return l.prototype.updateData=function(e,t){this._progressiveEls=null,t=dt(t);var a=this.group,o=e.hostModel,r=this._data,i=this._SymbolCtor,n=t.disableAnimation,u=St(e),s={disableAnimation:n},f=t.getSymbolPoint||function(v){return e.getItemLayout(v)};r||a.removeAll(),e.diff(r).add(function(v){var c=f(v);if(et(e,c,v,t)){var h=new i(e,v,u,s);h.setPosition(c),e.setItemGraphicEl(v,h),a.add(h)}}).update(function(v,c){var h=r.getItemGraphicEl(c),m=f(v);if(!et(e,m,v,t)){a.remove(h);return}var g=e.getItemVisual(v,"symbol")||"circle",d=h&&h.getSymbolType&&h.getSymbolType();if(!h||d&&d!==g)a.remove(h),h=new i(e,v,u,s),h.setPosition(m);else{h.updateData(e,v,u,s);var p={x:m[0],y:m[1]};n?h.attr(p):$(h,p,o)}a.add(h),e.setItemGraphicEl(v,h)}).remove(function(v){var c=r.getItemGraphicEl(v);c&&c.fadeOut(function(){a.remove(c)},o)}).execute(),this._getSymbolPoint=f,this._data=e},l.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(a,o){var r=e._getSymbolPoint(o);a.setPosition(r),a.markRedraw()})},l.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=St(e),this._data=null,this.group.removeAll()},l.prototype.incrementalUpdate=function(e,t,a){this._progressiveEls=[],a=dt(a);function o(u){u.isGroup||(u.incremental=!0,u.ensureState("emphasis").hoverLayer=!0)}for(var r=e.start;r<e.end;r++){var i=t.getItemLayout(r);if(et(t,i,r,a)){var n=new this._SymbolCtor(t,r,this._seriesScope);n.traverse(o),n.setPosition(i),this.group.add(n),t.setItemGraphicEl(r,n),this._progressiveEls.push(n)}}},l.prototype.eachRendered=function(e){qt(this._progressiveEls||this.group,e)},l.prototype.remove=function(e){var t=this.group,a=this._data;a&&e?a.eachItemGraphicEl(function(o){o.fadeOut(function(){t.remove(o)},a.hostModel)}):t.removeAll()},l}();function Ot(l,e,t){var a=l.getBaseAxis(),o=l.getOtherAxis(a),r=ve(o,t),i=a.dim,n=o.dim,u=e.mapDimension(n),s=e.mapDimension(i),f=n==="x"||n==="radius"?1:0,v=lt(l.dimensions,function(m){return e.mapDimension(m)}),c=!1,h=e.getCalculationInfo("stackResultDimension");return K(e,v[0])&&(c=!0,v[0]=h),K(e,v[1])&&(c=!0,v[1]=h),{dataDimsForPoint:v,valueStart:r,valueAxisDim:n,baseAxisDim:i,stacked:!!c,valueDim:u,baseDim:s,baseDataOffset:f,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function ve(l,e){var t=0,a=l.scale.getExtent();return e==="start"?t=a[0]:e==="end"?t=a[1]:wt(e)&&!isNaN(e)?t=e:a[0]>0?t=a[0]:a[1]<0&&(t=a[1]),t}function zt(l,e,t,a){var o=NaN;l.stacked&&(o=t.get(t.getCalculationInfo("stackedOverDimension"),a)),isNaN(o)&&(o=l.valueStart);var r=l.baseDataOffset,i=[];return i[r]=t.get(l.baseDim,a),i[1-r]=o,e.dataToPoint(i)}function he(l,e){var t=[];return e.diff(l).add(function(a){t.push({cmd:"+",idx:a})}).update(function(a,o){t.push({cmd:"=",idx:o,idx1:a})}).remove(function(a){t.push({cmd:"-",idx:a})}).execute(),t}function fe(l,e,t,a,o,r,i,n){for(var u=he(l,e),s=[],f=[],v=[],c=[],h=[],m=[],g=[],d=Ot(o,e,i),p=l.getLayout("points")||[],y=e.getLayout("points")||[],b=0;b<u.length;b++){var I=u[b],D=!0,_=void 0,S=void 0;switch(I.cmd){case"=":_=I.idx*2,S=I.idx1*2;var E=p[_],k=p[_+1],P=y[S],L=y[S+1];(isNaN(E)||isNaN(k))&&(E=P,k=L),s.push(E,k),f.push(P,L),v.push(t[_],t[_+1]),c.push(a[S],a[S+1]),g.push(e.getRawIndex(I.idx1));break;case"+":var A=I.idx,T=d.dataDimsForPoint,z=o.dataToPoint([e.get(T[0],A),e.get(T[1],A)]);S=A*2,s.push(z[0],z[1]),f.push(y[S],y[S+1]);var C=zt(d,o,e,A);v.push(C[0],C[1]),c.push(a[S],a[S+1]),g.push(e.getRawIndex(A));break;case"-":D=!1}D&&(h.push(I),m.push(m.length))}m.sort(function(G,Y){return g[G]-g[Y]});for(var O=s.length,M=X(O),w=X(O),N=X(O),F=X(O),H=[],b=0;b<m.length;b++){var j=m[b],V=b*2,R=j*2;M[V]=s[R],M[V+1]=s[R+1],w[V]=f[R],w[V+1]=f[R+1],N[V]=v[R],N[V+1]=v[R+1],F[V]=c[R],F[V+1]=c[R+1],H[b]=h[j]}return{current:M,next:w,stackedOnCurrent:N,stackedOnNext:F,status:H}}var U=Math.min,B=Math.max;function W(l,e){return isNaN(l)||isNaN(e)}function nt(l,e,t,a,o,r,i,n,u){for(var s,f,v,c,h,m,g=t,d=0;d<a;d++){var p=e[g*2],y=e[g*2+1];if(g>=o||g<0)break;if(W(p,y)){if(u){g+=r;continue}break}if(g===t)l[r>0?"moveTo":"lineTo"](p,y),v=p,c=y;else{var b=p-s,I=y-f;if(b*b+I*I<.5){g+=r;continue}if(i>0){for(var D=g+r,_=e[D*2],S=e[D*2+1];_===p&&S===y&&d<a;)d++,D+=r,g+=r,_=e[D*2],S=e[D*2+1],p=e[g*2],y=e[g*2+1],b=p-s,I=y-f;var E=d+1;if(u)for(;W(_,S)&&E<a;)E++,D+=r,_=e[D*2],S=e[D*2+1];var k=.5,P=0,L=0,A=void 0,T=void 0;if(E>=a||W(_,S))h=p,m=y;else{P=_-s,L=S-f;var z=p-s,C=_-p,O=y-f,M=S-y,w=void 0,N=void 0;if(n==="x"){w=Math.abs(z),N=Math.abs(C);var F=P>0?1:-1;h=p-F*w*i,m=y,A=p+F*N*i,T=y}else if(n==="y"){w=Math.abs(O),N=Math.abs(M);var H=L>0?1:-1;h=p,m=y-H*w*i,A=p,T=y+H*N*i}else w=Math.sqrt(z*z+O*O),N=Math.sqrt(C*C+M*M),k=N/(N+w),h=p-P*i*(1-k),m=y-L*i*(1-k),A=p+P*i*k,T=y+L*i*k,A=U(A,B(_,p)),T=U(T,B(S,y)),A=B(A,U(_,p)),T=B(T,U(S,y)),P=A-p,L=T-y,h=p-P*w/N,m=y-L*w/N,h=U(h,B(s,p)),m=U(m,B(f,y)),h=B(h,U(s,p)),m=B(m,U(f,y)),P=p-h,L=y-m,A=p+P*N/w,T=y+L*N/w}l.bezierCurveTo(v,c,h,m,p,y),v=A,c=T}else l.lineTo(p,y)}s=p,f=y,g+=r}return d}var Gt=function(){function l(){this.smooth=0,this.smoothConstraint=!0}return l}(),ce=function(l){q(e,l);function e(t){var a=l.call(this,t)||this;return a.type="ec-polyline",a}return e.prototype.getDefaultStyle=function(){return{stroke:kt.color.neutral99,fill:null}},e.prototype.getDefaultShape=function(){return new Gt},e.prototype.buildPath=function(t,a){var o=a.points,r=0,i=o.length/2;if(a.connectNulls){for(;i>0&&W(o[i*2-2],o[i*2-1]);i--);for(;r<i&&W(o[r*2],o[r*2+1]);r++);}for(;r<i;)r+=nt(t,o,r,i,i,1,a.smooth,a.smoothMonotone,a.connectNulls)+1},e.prototype.getPointOn=function(t,a){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var o=this.path,r=o.data,i=Jt.CMD,n,u,s=a==="x",f=[],v=0;v<r.length;){var c=r[v++],h=void 0,m=void 0,g=void 0,d=void 0,p=void 0,y=void 0,b=void 0;switch(c){case i.M:n=r[v++],u=r[v++];break;case i.L:if(h=r[v++],m=r[v++],b=s?(t-n)/(h-n):(t-u)/(m-u),b<=1&&b>=0){var I=s?(m-u)*b+u:(h-n)*b+n;return s?[t,I]:[I,t]}n=h,u=m;break;case i.C:h=r[v++],m=r[v++],g=r[v++],d=r[v++],p=r[v++],y=r[v++];var D=s?ht(n,h,g,p,t,f):ht(u,m,d,y,t,f);if(D>0)for(var _=0;_<D;_++){var S=f[_];if(S<=1&&S>=0){var I=s?ft(u,m,d,y,S):ft(n,h,g,p,S);return s?[t,I]:[I,t]}}n=p,u=y;break}}},e}(Nt),me=function(l){q(e,l);function e(){return l!==null&&l.apply(this,arguments)||this}return e}(Gt),ge=function(l){q(e,l);function e(t){var a=l.call(this,t)||this;return a.type="ec-polygon",a}return e.prototype.getDefaultShape=function(){return new me},e.prototype.buildPath=function(t,a){var o=a.points,r=a.stackedOnPoints,i=0,n=o.length/2,u=a.smoothMonotone;if(a.connectNulls){for(;n>0&&W(o[n*2-2],o[n*2-1]);n--);for(;i<n&&W(o[i*2],o[i*2+1]);i++);}for(;i<n;){var s=nt(t,o,i,n,n,1,a.smooth,u,a.connectNulls);nt(t,r,i+s-1,s,n,-1,a.stackedOnSmooth,u,a.connectNulls),i+=s+1,t.closePath()}},e}(Nt);function _t(l,e){if(l.length===e.length){for(var t=0;t<l.length;t++)if(l[t]!==e[t])return;return!0}}function Dt(l){for(var e=1/0,t=1/0,a=-1/0,o=-1/0,r=0;r<l.length;){var i=l[r++],n=l[r++];isNaN(i)||(e=Math.min(i,e),a=Math.max(i,a)),isNaN(n)||(t=Math.min(n,t),o=Math.max(n,o))}return[[e,t],[a,o]]}function It(l,e){var t=Dt(l),a=t[0],o=t[1],r=Dt(e),i=r[0],n=r[1];return Math.max(Math.abs(a[0]-i[0]),Math.abs(a[1]-i[1]),Math.abs(o[0]-n[0]),Math.abs(o[1]-n[1]))}function Pt(l){return wt(l)?l:l?.5:0}function pe(l,e,t){if(!t.valueDim)return[];for(var a=e.count(),o=X(a*2),r=0;r<a;r++){var i=zt(t,l,e,r);o[r*2]=i[0],o[r*2+1]=i[1]}return o}function Z(l,e,t,a,o){var r=t.getBaseAxis(),i=r.dim==="x"||r.dim==="radius"?0:1,n=[],u=0,s=[],f=[],v=[],c=[];if(o){for(u=0;u<l.length;u+=2){var h=e||l;!isNaN(h[u])&&!isNaN(h[u+1])&&c.push(l[u],l[u+1])}l=c}for(u=0;u<l.length-2;u+=2)switch(v[0]=l[u+2],v[1]=l[u+3],f[0]=l[u],f[1]=l[u+1],n.push(f[0],f[1]),a){case"end":s[i]=v[i],s[1-i]=f[1-i],n.push(s[0],s[1]);break;case"middle":var m=(f[i]+v[i])/2,g=[];s[i]=g[i]=m,s[1-i]=f[1-i],g[1-i]=v[1-i],n.push(s[0],s[1]),n.push(g[0],g[1]);break;default:s[i]=f[i],s[1-i]=v[1-i],n.push(s[0],s[1])}return n.push(l[u++],l[u++]),n}function ye(l,e){var t=[],a=l.length,o,r;function i(f,v,c){var h=f.coord,m=(c-h)/(v.coord-h),g=re(m,[f.color,v.color]);return{coord:c,color:g}}for(var n=0;n<a;n++){var u=l[n],s=u.coord;if(s<0)o=u;else if(s>e){r?t.push(i(r,u,e)):o&&t.push(i(o,u,0),i(o,u,e));break}else o&&(t.push(i(o,u,0)),o=null),t.push(u),r=u}return t}function be(l,e,t){var a=l.getVisual("visualMeta");if(!(!a||!a.length||!l.count())&&e.type==="cartesian2d"){for(var o,r,i=a.length-1;i>=0;i--){var n=l.getDimensionInfo(a[i].dimension);if(o=n&&n.coordDim,o==="x"||o==="y"){r=a[i];break}}if(r){var u=e.getAxis(o),s=lt(r.stops,function(b){return{coord:u.toGlobalCoord(u.dataToCoord(b.value)),color:b.color}}),f=s.length,v=r.outerColors.slice();f&&s[0].coord>s[f-1].coord&&(s.reverse(),v.reverse());var c=ye(s,o==="x"?t.getWidth():t.getHeight()),h=c.length;if(!h&&f)return s[0].coord<0?v[1]?v[1]:s[f-1].color:v[0]?v[0]:s[0].color;var m=10,g=c[0].coord-m,d=c[h-1].coord+m,p=d-g;if(p<.001)return"transparent";Ct(c,function(b){b.offset=(b.coord-g)/p}),c.push({offset:h?c[h-1].offset:.5,color:v[1]||"transparent"}),c.unshift({offset:h?c[0].offset:.5,color:v[0]||"transparent"});var y=new xt(0,0,0,0,c,!0);return y[o]=g,y[o+"2"]=d,y}}}function de(l,e,t){var a=l.get("showAllSymbol"),o=a==="auto";if(!(a&&!o)){var r=t.getAxesByScale("ordinal")[0];if(r&&!(o&&Se(r,e))){var i=e.mapDimension(r.dim),n={};return Ct(r.getViewLabels(),function(u){var s=r.scale.getRawOrdinalNumber(u.tickValue);n[s]=1}),function(u){return!n.hasOwnProperty(e.get(i,u))}}}}function Se(l,e){var t=l.getExtent(),a=Math.abs(t[1]-t[0])/l.scale.count();isNaN(a)&&(a=0);for(var o=e.count(),r=Math.max(1,Math.round(o/5)),i=0;i<o;i+=r)if(st.getSymbolSize(e,i)[l.isHorizontal()?1:0]*1.5>a)return!1;return!0}function _e(l,e){return isNaN(l)||isNaN(e)}function De(l){for(var e=l.length/2;e>0&&_e(l[e*2-2],l[e*2-1]);e--);return e-1}function At(l,e){return[l[e*2],l[e*2+1]]}function Ie(l,e,t){for(var a=l.length/2,o=t==="x"?0:1,r,i,n=0,u=-1,s=0;s<a;s++)if(i=l[s*2+o],!(isNaN(i)||isNaN(l[s*2+1-o]))){if(s===0){r=i;continue}if(r<=e&&i>=e||r>=e&&i<=e){u=s;break}n=s,r=i}return{range:[n,u],t:(e-r)/(i-r)}}function Vt(l){if(l.get(["endLabel","show"]))return!0;for(var e=0;e<bt.length;e++)if(l.get([bt[e],"endLabel","show"]))return!0;return!1}function at(l,e,t,a){if(te(e,"cartesian2d")){var o=a.getModel("endLabel"),r=o.get("valueAnimation"),i=a.getData(),n={lastFrameIndex:0},u=Vt(a)?function(h,m){l._endLabelOnDuring(h,m,i,n,r,o,e)}:null,s=e.getBaseAxis().isHorizontal(),f=ee(e,t,a,function(){var h=l._endLabel;h&&t&&n.originalX!=null&&h.attr({x:n.originalX,y:n.originalY})},u);if(!a.get("clip",!0)){var v=f.shape,c=Math.max(v.width,v.height);s?(v.y-=c,v.height+=c*2):(v.x-=c,v.width+=c*2)}return u&&u(1,f),f}else return ae(e,t,a)}function Pe(l,e){var t=e.getBaseAxis(),a=t.isHorizontal(),o=t.inverse,r=a?o?"right":"left":"center",i=a?"middle":o?"top":"bottom";return{normal:{align:l.get("align")||r,verticalAlign:l.get("verticalAlign")||i}}}var Ae=function(l){q(e,l);function e(){return l!==null&&l.apply(this,arguments)||this}return e.prototype.init=function(){var t=new Q,a=new ue;this.group.add(a.group),this._symbolDraw=a,this._lineGroup=t,this._changePolyState=$t(this._changePolyState,this)},e.prototype.render=function(t,a,o){var r=t.coordinateSystem,i=this.group,n=t.getData(),u=t.getModel("lineStyle"),s=t.getModel("areaStyle"),f=n.getLayout("points")||[],v=r.type==="polar",c=this._coordSys,h=this._symbolDraw,m=this._polyline,g=this._polygon,d=this._lineGroup,p=!a.ssr&&t.get("animation"),y=!s.isEmpty(),b=s.get("origin"),I=Ot(r,n,b),D=y&&pe(r,n,I),_=t.get("showSymbol"),S=t.get("connectNulls"),E=_&&!v&&de(t,n,r),k=this._data;k&&k.eachItemGraphicEl(function(G,Y){G.__temp&&(i.remove(G),k.setItemGraphicEl(Y,null))}),_||h.remove(),i.add(d);var P=v?!1:t.get("step"),L;r&&r.getArea&&t.get("clip",!0)&&(L=r.getArea(),L.width!=null?(L.x-=.1,L.y-=.1,L.width+=.2,L.height+=.2):L.r0&&(L.r0-=.5,L.r+=.5)),this._clipShapeForSymbol=L;var A=be(n,r,o)||n.getVisual("style")[n.getVisual("drawType")];if(!(m&&c.type===r.type&&P===this._step))_&&h.updateData(n,{isIgnore:E,clipShape:L,disableAnimation:!0,getSymbolPoint:function(G){return[f[G*2],f[G*2+1]]}}),p&&this._initSymbolLabelAnimation(n,r,L),P&&(D&&(D=Z(D,f,r,P,S)),f=Z(f,null,r,P,S)),m=this._newPolyline(f),y?g=this._newPolygon(f,D):g&&(d.remove(g),g=this._polygon=null),v||this._initOrUpdateEndLabel(t,r,ct(A)),d.setClipPath(at(this,r,!0,t));else{y&&!g?g=this._newPolygon(f,D):g&&!y&&(d.remove(g),g=this._polygon=null),v||this._initOrUpdateEndLabel(t,r,ct(A));var T=d.getClipPath();if(T){var z=at(this,r,!1,t);Lt(T,{shape:z.shape},t)}else d.setClipPath(at(this,r,!0,t));_&&h.updateData(n,{isIgnore:E,clipShape:L,disableAnimation:!0,getSymbolPoint:function(G){return[f[G*2],f[G*2+1]]}}),(!_t(this._stackedOnPoints,D)||!_t(this._points,f))&&(p?this._doUpdateAnimation(n,D,r,o,P,b,S):(P&&(D&&(D=Z(D,f,r,P,S)),f=Z(f,null,r,P,S)),m.setShape({points:f}),g&&g.setShape({points:f,stackedOnPoints:D})))}var C=t.getModel("emphasis"),O=C.get("focus"),M=C.get("blurScope"),w=C.get("disabled");if(m.useStyle(mt(u.getLineStyle(),{fill:"none",stroke:A,lineJoin:"bevel"})),gt(m,t,"lineStyle"),m.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"){var N=m.getState("emphasis").style;N.lineWidth=+m.style.lineWidth+1}J(m).seriesIndex=t.seriesIndex,it(m,O,M,w);var F=Pt(t.get("smooth")),H=t.get("smoothMonotone");if(m.setShape({smooth:F,smoothMonotone:H,connectNulls:S}),g){var j=n.getCalculationInfo("stackedOnSeries"),V=0;g.useStyle(mt(s.getAreaStyle(),{fill:A,opacity:.7,lineJoin:"bevel",decal:n.getVisual("style").decal})),j&&(V=Pt(j.get("smooth"))),g.setShape({smooth:F,stackedOnSmooth:V,smoothMonotone:H,connectNulls:S}),gt(g,t,"areaStyle"),J(g).seriesIndex=t.seriesIndex,it(g,O,M,w)}var R=this._changePolyState;n.eachItemGraphicEl(function(G){G&&(G.onHoverStateChange=R)}),this._polyline.onHoverStateChange=R,this._data=n,this._coordSys=r,this._stackedOnPoints=D,this._points=f,this._step=P,this._valueOrigin=b,t.get("triggerLineEvent")&&(this.packEventData(t,m),g&&this.packEventData(t,g))},e.prototype.packEventData=function(t,a){J(a).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,a,o,r){var i=t.getData(),n=pt(i,r);if(this._changePolyState("emphasis"),!(n instanceof Array)&&n!=null&&n>=0){var u=i.getLayout("points"),s=i.getItemGraphicEl(n);if(!s){var f=u[n*2],v=u[n*2+1];if(isNaN(f)||isNaN(v)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(f,v))return;var c=t.get("zlevel")||0,h=t.get("z")||0;s=new st(i,n),s.x=f,s.y=v,s.setZ(c,h);var m=s.getSymbolPath().getTextContent();m&&(m.zlevel=c,m.z=h,m.z2=this._polyline.z2+1),s.__temp=!0,i.setItemGraphicEl(n,s),s.stopSymbolAnimation(!0),this.group.add(s)}s.highlight()}else x.prototype.highlight.call(this,t,a,o,r)},e.prototype.downplay=function(t,a,o,r){var i=t.getData(),n=pt(i,r);if(this._changePolyState("normal"),n!=null&&n>=0){var u=i.getItemGraphicEl(n);u&&(u.__temp?(i.setItemGraphicEl(n,null),this.group.remove(u)):u.downplay())}else x.prototype.downplay.call(this,t,a,o,r)},e.prototype._changePolyState=function(t){var a=this._polygon;yt(this._polyline,t),a&&yt(a,t)},e.prototype._newPolyline=function(t){var a=this._polyline;return a&&this._lineGroup.remove(a),a=new ce({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(a),this._polyline=a,a},e.prototype._newPolygon=function(t,a){var o=this._polygon;return o&&this._lineGroup.remove(o),o=new ge({shape:{points:t,stackedOnPoints:a},segmentIgnoreThreshold:2}),this._lineGroup.add(o),this._polygon=o,o},e.prototype._initSymbolLabelAnimation=function(t,a,o){var r,i,n=a.getBaseAxis(),u=n.inverse;a.type==="cartesian2d"?(r=n.isHorizontal(),i=!1):a.type==="polar"&&(r=n.dim==="angle",i=!0);var s=t.hostModel,f=s.get("animationDuration");tt(f)&&(f=f(null));var v=s.get("animationDelay")||0,c=tt(v)?v(null):v;t.eachItemGraphicEl(function(h,m){var g=h;if(g){var d=[h.x,h.y],p=void 0,y=void 0,b=void 0;if(o)if(i){var I=o,D=a.pointToCoord(d);r?(p=I.startAngle,y=I.endAngle,b=-D[1]/180*Math.PI):(p=I.r0,y=I.r,b=D[0])}else{var _=o;r?(p=_.x,y=_.x+_.width,b=h.x):(p=_.y+_.height,y=_.y,b=h.y)}var S=y===p?0:(b-p)/(y-p);u&&(S=1-S);var E=tt(v)?v(m):f*S+c,k=g.getSymbolPath(),P=k.getTextContent();g.attr({scaleX:0,scaleY:0}),g.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:E}),P&&P.animateFrom({style:{opacity:0}},{duration:300,delay:E}),k.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,a,o){var r=t.getModel("endLabel");if(Vt(t)){var i=t.getData(),n=this._polyline,u=i.getLayout("points");if(!u){n.removeTextContent(),this._endLabel=null;return}var s=this._endLabel;s||(s=this._endLabel=new Kt({z2:200}),s.ignoreClip=!0,n.setTextContent(this._endLabel),n.disableLabelAnimation=!0);var f=De(u);f>=0&&(Et(n,ot(t,"endLabel"),{inheritColor:o,labelFetcher:t,labelDataIndex:f,defaultText:function(v,c,h){return h!=null?ie(i,h):Tt(i,v)},enableTextSetter:!0},Pe(r,a)),n.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,a,o,r,i,n,u){var s=this._endLabel,f=this._polyline;if(s){t<1&&r.originalX==null&&(r.originalX=s.x,r.originalY=s.y);var v=o.getLayout("points"),c=o.hostModel,h=c.get("connectNulls"),m=n.get("precision"),g=n.get("distance")||0,d=u.getBaseAxis(),p=d.isHorizontal(),y=d.inverse,b=a.shape,I=y?p?b.x:b.y+b.height:p?b.x+b.width:b.y,D=(p?g:0)*(y?-1:1),_=(p?0:-g)*(y?-1:1),S=p?"x":"y",E=Ie(v,I,S),k=E.range,P=k[1]-k[0],L=void 0;if(P>=1){if(P>1&&!h){var A=At(v,k[0]);s.attr({x:A[0]+D,y:A[1]+_}),i&&(L=c.getRawValue(k[0]))}else{var A=f.getPointOn(I,S);A&&s.attr({x:A[0]+D,y:A[1]+_});var T=c.getRawValue(k[0]),z=c.getRawValue(k[1]);i&&(L=Qt(o,m,T,z,E.t))}r.lastFrameIndex=k[0]}else{var C=t===1||r.lastFrameIndex>0?k[0]:0,A=At(v,C);i&&(L=c.getRawValue(C)),s.attr({x:A[0]+D,y:A[1]+_})}if(i){var O=Yt(s);typeof O.setLabelText=="function"&&O.setLabelText(L)}}},e.prototype._doUpdateAnimation=function(t,a,o,r,i,n,u){var s=this._polyline,f=this._polygon,v=t.hostModel,c=fe(this._data,t,this._stackedOnPoints,a,this._coordSys,o,this._valueOrigin),h=c.current,m=c.stackedOnCurrent,g=c.next,d=c.stackedOnNext;if(i&&(m=Z(c.stackedOnCurrent,c.current,o,i,u),h=Z(c.current,null,o,i,u),d=Z(c.stackedOnNext,c.next,o,i,u),g=Z(c.next,null,o,i,u)),It(h,g)>3e3||f&&It(m,d)>3e3){s.stopAnimation(),s.setShape({points:g}),f&&(f.stopAnimation(),f.setShape({points:g,stackedOnPoints:d}));return}s.shape.__points=c.current,s.shape.points=h;var p={shape:{points:g}};c.current!==h&&(p.shape.__points=c.next),s.stopAnimation(),$(s,p,v),f&&(f.setShape({points:h,stackedOnPoints:m}),f.stopAnimation(),$(f,{shape:{stackedOnPoints:d}},v),s.shape.points!==f.shape.points&&(f.shape.points=s.shape.points));for(var y=[],b=c.status,I=0;I<b.length;I++){var D=b[I].cmd;if(D==="="){var _=t.getItemGraphicEl(b[I].idx1);_&&y.push({el:_,ptIdx:I})}}s.animators&&s.animators.length&&s.animators[0].during(function(){f&&f.dirtyShape();for(var S=s.shape.__points,E=0;E<y.length;E++){var k=y[E].el,P=y[E].ptIdx*2;k.x=S[P],k.y=S[P+1],k.markRedraw()}})},e.prototype.remove=function(t){var a=this.group,o=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),o&&o.eachItemGraphicEl(function(r,i){r.__temp&&(a.remove(r),o.setItemGraphicEl(i,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(x);function ke(l,e){return{seriesType:l,plan:ne(),reset:function(t){var a=t.getData(),o=t.coordinateSystem;if(t.pipelineContext,!!o){var r=lt(o.dimensions,function(v){return a.mapDimension(v)}).slice(0,2),i=r.length,n=a.getCalculationInfo("stackResultDimension");K(a,r[0])&&(r[0]=n),K(a,r[1])&&(r[1]=n);var u=a.getStore(),s=a.getDimensionIndex(r[0]),f=a.getDimensionIndex(r[1]);return i&&{progress:function(v,c){for(var h=v.end-v.start,m=X(h*i),g=[],d=[],p=v.start,y=0;p<v.end;p++){var b=void 0;if(i===1){var I=u.get(s,p);b=o.dataToPoint(I,null,d)}else g[0]=u.get(s,p),g[1]=u.get(f,p),b=o.dataToPoint(g,null,d);m[y++]=b[0],m[y++]=b[1]}c.setLayout("points",m)}}}}}}function Ee(l){l.registerChartView(Ae),l.registerSeriesModel(le),l.registerLayout(ke("line")),l.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),a=e.getModel("lineStyle").getLineStyle();a&&!a.stroke&&(a.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",a)}}),l.registerProcessor(l.PRIORITY.PROCESSOR.STATISTIC,oe("line"))}export{Ee as i};
